B. Распространение вируса

В этой задаче вы являетесь членом экипажа космического корабля в популярной игре Among Us. К сожалению, на корабле был запущен вирус, и теперь вам нужно добраться до медицинской комнаты в вершине t, чтобы найти лекарство.

Корабль представлен положительно взвешенным неориентированным графом, и вы начинаете в вершине s. Однако, на корабле есть k источников вируса, которые могут блокировать некоторые ребра в графе. Вес ребра равен времени, необходимому для заражения ребра.

Ваша скорость равна скорости распространения вируса, что означает, что вы можете двигаться так быстро, как и распространяется вирус. Сможете ли вы найти лекарство для вируса и спасти корабль до того, как будет слишком поздно? Ваша цель — найти кратчайший путь до вершины t, избегая блокированных ребер, вызванных источниками воды, и зараженных областей на корабле.

Формат ввода
В первой строке входных данных содержится три целых числа N, M и k — количество вершин, ребер и источников вируса (2 ≤ N ≤ 2 ⋅ 105, 0 ≤ M ≤ 2 ⋅ 105, 1 ≤ K < N).

Во второй строке содержится K различных чисел ai — номера зараженных вершин в корабле (1 ≤ ai ≤ N).

Следующие M строк описывают ребра. Каждое описание состоит из трех чисел xi, yi и li, обозначающих номера вершин, которые соединяет i-е ребро, и его длину (1 ≤ xi, yi ≤ N, 1 ≤ li ≤ 109, xi ≠ yi).

В последней строке входных данных содержится 2 числа s и t — номера вершин, где находитесь вы и лекарство (1 ≤ s, t ≤ N).

Формат вывода
Выведите единственное число — минимальное количество единиц времени, которое требуется для получения лекарства, либо «-1», если нет шансов.

Примечания
Оригинальное условие ChatGPT было на порядок нечитаемее, потому была проведена постобработка.

Постпостобработка — если вирус добрался одновременно с вами, то вы проиграли.
 