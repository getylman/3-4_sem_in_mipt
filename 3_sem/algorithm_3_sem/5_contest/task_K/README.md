K. Последовательность и палиндромы

Ограничение времени	1 секунда
Ограничение памяти	64Mb
Ввод	стандартный ввод или input.txt
Вывод	стандартный вывод или output.txt

Эш тренирует в очередной раз своих покемонов (могут быть одинаковые), для этого он выстроил их всех в один ряд. Он прочитал, что построение покемонов эффективное, если:

Покемон один
Покемона два и они одного вида
В иных случаях крайние покемоны одного вида, а построение без учета крайних эффективное.
Найдите, сколько эффективных подпоследовательностей есть в построении Эша. Поскольку ответ может быть очень большим, выведите его по модулю 109.

Формат ввода
Первая строка входного файла содержит число N — количество покемонов у Эша (1 ≤ N ≤ 2000). Вторая строка содержит N целых чисел — исходный ряд покемонов. Все номера видов покемонов положительны и не превышают 10^9.

Формат вывода
Выведите в выходной файл одно число — искомое число эффективных построений по модулю 10^9.